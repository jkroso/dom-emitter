<!doctype html>
<html>
<head>
	<style>
		button {
			padding: 10px;
			margin: 20px;
		}
		.dialog {
			position: fixed;
			top:200px;
			left:50%;
			padding: 20px;
			margin-left: -100px;
			border:1px solid #ccc;
			border-radius: 3px;
		}
	</style>
	<script src="../../dom-emitter.js"></script>
</head>
<body>
	<button>try me!</button>
	<div>
		<button>don't bother!</button>
	</div>
	<script>
		new DomEmitter(document.body).on('click > button', function(e){
			new Dialog()
		})

		function Dialog(){
			this.view = document.createElement('div')
			this.view.className = 'dialog'
			this.view.innerHTML = '<p>Hello</p><button class="nice">hello</button><button class="mean">bye</button>'
			this.events = new DomEmitter(this.view, this)
			this.events.on('click > button.nice', 'destroy')
			this.events.on('click button.mean', 'taunt')
			document.body.appendChild(this.view)
		}

		Dialog.prototype.destroy = function(e){
			document.body.removeChild(this.view)
		}

		Dialog.prototype.taunt = function(e){
			this.view.firstChild.innerText = 'Try again!'
		}
	</script>
</body>
</html>